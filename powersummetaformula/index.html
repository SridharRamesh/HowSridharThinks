<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="referrer" content="no-referrer">

        <!-- Enable responsiveness on mobile devices-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5" />

        <title>The Meta-Formula for 1^n + 2^n + 3^n + ... + x^n | How Sridhar Thinks</title>
<meta property="og:title" content="The Meta-Formula for 1^n + 2^n + 3^n + ... + x^n | How Sridhar Thinks" />
<meta name="twitter:title" content="The Meta-Formula for 1^n + 2^n + 3^n + ... + x^n | How Sridhar Thinks" />

        
<meta name="description" content="[There's a better version of this post coming when I copy over https://howsridharthinks.wordpress.com/2019/11/19/difference-equations-infinite-sums-generalized-factorial-zeta-functions-etc/, but it's not fully ready yet. This is an archive of an old Quora answer, in the meanwhile…">
<meta property="og:description" content="[There's a better version of this post coming when I copy over https://howsridharthinks.wordpress.com/2019/11/19/difference-equations-infinite-sums-generalized-factorial-zeta-functions-etc/, but it's not fully ready yet. This is an archive of an old Quora answer, in the meanwhile…">
<meta name="twitter:description" content="[There's a better version of this post coming when I copy over https://howsridharthinks.wordpress.com/2019/11/19/difference-equations-infinite-sums-generalized-factorial-zeta-functions-etc/, but it's not fully ready yet. This is an archive of an old Quora answer, in the meanwhile…">

        <meta property="og:site_name" content="How Sridhar Thinks" />
        <meta property="og:url" content="https:&#x2F;&#x2F;sridharramesh.github.io&#x2F;HowSridharThinks&#x2F;" />

        

<script>
MathJax = {
  tex: {
    inlineMath: [['$$', '$$'], ['open', 'close'], ['\\(', '\\)']],
    displayMath: [['\\[', '\\[']],
    packages: {'[+]': ['physics']}
  },
  loader: {load: ['[tex]/physics']},
  svg: {
    fontCache: 'global'
  }
};
</script>

<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>



        
<link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
<link rel="stylesheet" href="https://sridharramesh.github.io/HowSridharThinks/base.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<link href="https://sridharramesh.github.io/HowSridharThinks/fontawesome/fontawesome.css" rel="stylesheet">
<link href="https://sridharramesh.github.io/HowSridharThinks/fontawesome/brands.css" rel="stylesheet">
<link href="https://sridharramesh.github.io/HowSridharThinks/fontawesome/solid.css" rel="stylesheet">

        <link rel='icon' type='image/x-icon' href="https://sridharramesh.github.io/HowSridharThinks/favicon.ico" />

        

        

        

    </head>
    <body>
        <a href="#main" class="skip-link p-screen-reader-text">Skip to content</a>
        <header class="l-header">
            <h1 class="c-title p-title"><a href="https:&#x2F;&#x2F;sridharramesh.github.io&#x2F;HowSridharThinks&#x2F;" class="p-title__link">How Sridhar Thinks</a></h1>
            </header>

        <main id="main" class="l-main">
            
<article class="p-article">
  <header>
    <h1>The Meta-Formula for 1^n + 2^n + 3^n + ... + x^n
</h1>
    <div>
      <div class="c-time">

        <time datetime=" 2018-06-27">
          2018-06-27
        </time>
        
      </div>
    </div>
  </header>
  
  <section id="js-article" class="p-article__body">
    <p>[There's a better version of this post coming when I copy over https://howsridharthinks.wordpress.com/2019/11/19/difference-equations-infinite-sums-generalized-factorial-zeta-functions-etc/, but it's not fully ready yet. This is an archive of an old Quora answer, in the meanwhile. This is just for the sake of copying everything from the Wordpress site over to the Github site.]</p>
<p>You’ve probably seen formulas such $$1 + 2 + 3 + \ldots + x = \frac{x^2}{2} + \frac{x}{2}$$, $$1^2 + 2^2 + 3^2 + \ldots + x^2 = \frac{x^3}{3} + \frac{x^2}{2} + \frac{x}{6}$$, and so on before, and wondered where these come from, and if the same thing can be done for sums of powers of any degree.</p>
<p>Well, the answer (er, to the second question) is a resounding YES! Here is a general technique that will quite readily, quite easily give you the formula for the sum of consecutive values of any polynomial, as another polynomial. Indeed, here is a “meta-formula” for the desired formula.</p>
<p>Actually, I will explain this same underlying idea twice, in somewhat different ways. Once a little less abstractly, and once a little more abstractly. You may read whichever of these tickles your fancy best; whichever gives you the clearest understanding.</p>
<h1 id="the-less-abstract-presentation">The less abstract presentation</h1>
<p>Suppose you already have a nice formula for $$R(x) = 1^n + 2^n + 3^n + \ldots + x^n$$ (in other words, $$R(0) = 0$$ and $$R(x) - R(x - 1) = x^n$$). How can we find a similar formula for $$(n + 1)$$th powers instead of $$n$$th powers?</p>
<p>Well, $$x^{n + 1}$$ is what we get if we integrate $$x^n$$ (with an initial value of $$0$$) and multiply by $$n + 1$$. And if we do this to $$R$$, so that $$Q' = (n + 1)R$$, this $$Q$$ will ALMOST give us exactly what we need: we will then have that the derivative of $$Q(x) - Q(x - 1)$$ is $$(n + 1)(R(x) - R(x - 1)) = (n + 1) x^n$$, which is the derivative of $$x^{n + 1}$$; it follows that $$Q(x) - Q(x - 1)$$ and $$x^{n + 1}$$ differ by at most a constant.</p>
<p>But we want them to match exactly! So to cancel out this constant, we can add an extra linear term to $$Q$$; as we add $$cx$$ to $$Q$$, we end up adding $$c$$ to $$Q(x) - Q(x - 1)$$, and so by using the appropriate $$c$$, we can get the exact equality we desire.</p>
<p>So that’s it, then. To get a formula for $$1^{n + 1} + 2^{n + 1} + 3^{n + 1} + \ldots + x^{n + 1}$$, we take a formula for $$1^n + 2^n + 3^n + \ldots + x^n$$, integrate it (with an initial value of $$0$$) and multiply by $$n + 1$$, then add $$cx$$ where the constant $$c$$ is chosen to ensure that we get the right values.</p>
<p>Thus, since we know that the formula for the sum of the first $$x$$ many $$0$$th powers $$1 + 1 + 1 + \ldots$$ is $$x$$ , we find that the formula to sum the first $$x$$ many $$1$$st powers $$1 + 2 + 3 + \ldots + x$$ is $$\frac{x^2}{2} + cx$$. What should we choose $$c$$ to be? We should choose it to give a total of $$1$$ when $$x = 1$$; thus. $$c = \frac{1}{2}$$, and our formula when $$n = 1$$ is $$\frac{x^2}{2} + \frac{x}{2}$$.</p>
<p>Next, to get the formula for $$1^2 + 2^2 + 3^2 + \ldots + x^2$$, we integrate, multiply by $$2$$, and add an unknown linear term, to get $$\frac{x^3}{3} + \frac{x^2}{2} + cx$$. Again, we should choose $$c$$ so that the total comes out to $$1$$ when $$x = 1$$; thus, $$c$$ now must be $$\frac{1}{6}$$.</p>
<p>Next, to get the formula for $$1^3 + 2^3 + 3^3 + \ldots + x^3$$, we do this all again, integrating, multiplying by $$3$$, and adding an unknown linear term, to get $$\frac{x^4}{4} + \frac{x^3}{2} + \frac{x^2}{4} + cx$$. In this case, to get the total to come out to $$1$$ when $$x = 1$$, we take $$c = 0$$.</p>
<p>And so on and so on; continuing in this way, we get the formulas for any degree we like.</p>
<h1 id="the-more-abstract-presentation">The more abstract presentation</h1>
<p>Consider the linear “forward difference” operator which sends the polynomial $$P(x)$$ to the polynomial $$P(x + 1) - P(x)$$. Call this operator $$\Delta$$. Given a polynomial $$P$$, our goal is to find some polynomial $$Q$$ such that $$\Delta Q = P$$. Then $$Q(a) - Q(b)$$ will be $$P(b) + P(b + 1) + P(b + 2) + \ldots + P(a - 1)$$, which will allow us to easily solve any problem of this sort. (We could just as well think about “backward differences” or any such thing, but my own idiosyncratic preference is to have to keep track of less minus signs…)</p>
<p>But how do we find such a $$Q$$, given $$P$$?</p>
<p>Well, let’s consider two other linear operators of note on polynomials, that are closely related to this difference operator. First of all, there’s “differentiation” (in the sense of taking the derivative), whose name already belies it closeness; this is the familiar operator from calculus which sends $$x^n$$ to $$n x^{n - 1}$$. We’ll call this operator $$\delta$$. Secondly, there’s “integration” in the sense which sends each $$x^n$$ to $$\frac{x^{n + 1}}{n + 1}$$. We’ll call this operator $$\int$$. Note that integrating followed by differentiating is the same as doing nothing at all (i.e., $$\delta \int P = P$$).</p>
<p>Let’s make more explicit the sense in which differentiation and forward difference are related. In particular, let’s note that we have, by Taylor expansion, that $$P(x + 1) = P(x) + \frac{\delta^1 P (x)}{1!} + \frac{\delta^2 P(x)}{2!} + \frac{\delta^3 P(x)}{3!} + \ldots = e^{\delta} P(x)$$. That is $$\Delta P(x) = P(x + 1) - P(x) = (e^{\delta} - 1) P(x)$$, which is to say, $$\Delta = e^{\delta} - 1$$. Conversely, we must have $$\delta = \ln(1 + \Delta)$$, which by Taylor series expansion again, comes out to $$\Delta - \frac{\Delta^2}{2} + \frac{\Delta^3}{3} - \frac{\Delta^4}{4} + \ldots$$.</p>
<p>(For what it’s worth, though these are phrased as infinite series here, when applied to any particular polynomial, only finitely many terms are nonzero, as $$\delta$$ or $$\Delta$$ applied more than $$n$$ times to a polynomial of degree $$n$$ results in zero. So there are no convergence issues which can arise, and all the results which we know to hold for Taylor series as abstract formal objects (e.g., that $$e^x - 1$$ and $$\ln(1 + x)$$ act as inverse functions) will necessarily work just as well for these series expansions in terms of our operators as applied to particular polynomials)</p>
<p>Let’s see how this helps us with our goal. We wanted to find a $$Q$$ such that $$\Delta Q = P$$. But we can rewrite this as $$\Delta Q = \delta\int P$$, which is to say, $$\Delta Q = \left( \Delta - \frac{\Delta^2}{2} + \frac{\Delta^3}{3} - \frac{\Delta^4}{4} + \ldots \right) \int P$$.</p>
<p>Now it’s easy enough to solve. Factoring a $$\Delta$$ out, we see that it suffices to take $$Q = \left(1 - \frac{\Delta}{2} + \frac{\Delta^2}{3} - \frac{\Delta^3}{4} + \ldots \right) \int P = \frac{\ln(1 + \Delta)}{\Delta} \int P$$. And as noted above, this is a finitary calculation for any particular $$P$$.</p>
<p>Actually, because $$\delta^n$$ is easier to compute for polynomials in standard representation than $$\Delta^n$$ (since $$\delta$$ takes monomials to monomials), it is often more convenient to rewrite $$\frac{\ln(1 + \Delta)}{\Delta}$$ as $$\frac{\delta}{e^{\delta} - 1} = 1 - \frac{\delta}{2} + \frac{\delta^2}{12} - \frac{\delta^4}{720} + \ldots$$. The Taylor series expansion here, as for any such symbolic expression, can be evaluated to any desired length by straightforward calculus, although there are cleverer ways as well. [The coefficients so produced happen to have been studied in their own right, in the theory of the closely related “Bernoulli numbers”, in case you care to read up more on these.]</p>
<p>So we have that $$Q = \frac{\delta}{e^{\delta} - 1} \int P \; = \left(1 - \frac{\delta}{2} + \frac{\delta^2}{12} - \frac{\delta^4}{720} + \ldots\right) \int P$$ $$= \left(\int - \frac{1}{2} + \frac{\delta}{12} - \frac{\delta^3}{720} + \ldots\right) P$$. And, remember, we can use this to calculate $$P(b) + P(b + 1) + P(b + 2) + \ldots + P(a - 1)$$ as $$Q(a) - Q(b)$$.</p>
<p>This completes our general technique. Let’s apply it to, for example, the particular question of a formula for $$1^2 + 2^2 + 3^2 + \ldots + x^2$$.</p>
<p>Suppose $$P(x) = x^2$$. Applying $$\left(\int - \frac{1}{2} + \frac{\delta}{12} - \frac{\delta^3}{720} + \ldots\right)$$ to this, we get $$\frac{x^3}{3} - \frac{x^2}{2} + \frac{x}{6} + 0 + 0 + 0 + \ldots$$.</p>
<p>Taking this to be $$Q(x)$$, we can now compute $$1^2 + 2^2 + 3^2 + \ldots + x^2$$ as $$Q(x + 1) - Q(1)$$. Eh, it’ll be slightly simpler in the terms we’ve put this in to think of this as $$0^2 + 1^2 + 2^2 + \ldots + (x - 1)^2 + x^2 = Q(x) - Q(0) + x^2$$, which is $$\frac{x^3}{3} + \frac{x^2}{2} + \frac{x}{6}$$. Ta-da! This is our final formula.</p>
<p>But the great value of the discussion in this post is that we do not need to apply new cleverness to solving this type of problem again for each new polynomial or degree of powers to be summed. We can mechanically produce the answers for each, simply applying $$\frac{\delta}{e^{\delta} - 1} \int = \left(\int - \frac{1}{2} + \frac{\delta}{12} - \frac{\delta^3}{720} + \ldots\right)$$ to the given polynomial.</p>
<p>This technique is general enough that it even works for some functions which aren’t polynomials, producing answers as convergent infinite series, which then can be used to interpolate/extrapolate the corresponding “sum consecutive values” function to new contexts beyond where this sum would ordinarily be interpretable. For example, these kinds of ideas can be used to generalize the factorial to non-integer arguments (by generalizing the logarithmic factorial, which is a sum of consecutive logarithms; of course, we’ve seen already how to generalize the factorial anyway, at [TODO: insert link]), and to extend the Riemann and Hurwitz zeta functions to arbitrary inputs (as with every topic I mention in passing, I promise I will write more on this in a later post...). It’s a very valuable idea to be aware of.</p>
<p>[TODO: Add the million others way of looking at this; e.g., through Stirling numbers of the first and second kinds, and through the Hurwitz zeta function.]</p>

  </section>
  <footer>
    <nav class="c-pagination p-pagination">
      <div class="c-pagination__ctrl">
        <div class="c-pagination__newer">
          
        </div>
        <div class="c-pagination__older">
          
        </div>
      </div>
    </nav>
  </footer>
</article>
            
        </main>


      <footer class="l-footer">
          <p class="p-copyright">
              
          </p>
      </footer>

      
    </body>
</html>

